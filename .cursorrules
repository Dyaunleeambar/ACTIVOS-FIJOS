# üéØ Cursor Rules - Sistema de Gesti√≥n de Medios Inform√°ticos

## üìã Contexto del Proyecto

Este es un sistema de gesti√≥n de medios inform√°ticos para el sector p√∫blico, espec√≠ficamente dise√±ado para:
- **IT Central**: Administraci√≥n central de equipos
- **Responsables de Medios**: Gesti√≥n por estados/regiones
- **Consultores**: Visualizaci√≥n y reportes

## üé® Sistema de Dise√±o

### Design Tokens
- **Archivo principal**: `public/css/design-tokens.css`
- **Variables CSS**: Usar siempre variables CSS definidas
- **Colores**: Paleta profesional con azul primario y p√∫rpura secundario
- **Tipograf√≠a**: Inter como fuente principal
- **Espaciado**: Sistema de 8px base (0.5rem)

### Estructura de Archivos CSS
```
public/css/
‚îú‚îÄ‚îÄ design-tokens.css    # Variables CSS del sistema
‚îú‚îÄ‚îÄ styles.css          # Estilos base y layout
‚îú‚îÄ‚îÄ dashboard.css       # Estilos espec√≠ficos del dashboard
‚îú‚îÄ‚îÄ forms.css          # Estilos de formularios
‚îî‚îÄ‚îÄ components.css     # Componentes reutilizables
```

### Reglas de CSS
- Usar variables CSS para colores, espaciado, tipograf√≠a
- **Desktop-first responsive design** (NUEVO ENFOQUE)
- Accesibilidad WCAG 2.1 AA
- Transiciones suaves (300ms ease-in-out)
- Sombras consistentes (shadow-sm, shadow-md, shadow-lg)

## üèóÔ∏è Arquitectura Frontend

### Estructura de JavaScript
```
public/js/
‚îú‚îÄ‚îÄ config.js          # Configuraci√≥n global
‚îú‚îÄ‚îÄ auth.js            # M√≥dulo de autenticaci√≥n
‚îú‚îÄ‚îÄ api.js             # M√≥dulo de API
‚îú‚îÄ‚îÄ ui.js              # Utilidades de UI
‚îú‚îÄ‚îÄ app.js             # Aplicaci√≥n principal
‚îú‚îÄ‚îÄ dashboard.js       # M√≥dulo del dashboard
‚îî‚îÄ‚îÄ equipment.js       # M√≥dulo de equipos
```

### Patrones de C√≥digo
- **Modular**: Separaci√≥n clara de responsabilidades
- **Funcional**: Preferir funciones puras
- **Async/Await**: Para operaciones as√≠ncronas
- **Error Handling**: Manejo consistente de errores
- **Loading States**: Indicadores de carga en todas las operaciones

## üéØ Componentes Principales

### Autenticaci√≥n
- Login con JWT tokens
- Gesti√≥n de roles (admin, manager, consultant)
- Auto-logout por expiraci√≥n
- Validaci√≥n de permisos por p√°gina

### Dashboard
- Estad√≠sticas en tiempo real
- Gr√°ficos con Chart.js
- Cards informativas
- Quick actions
- Recent activity

### Gesti√≥n de Equipos
- CRUD completo de equipos
- Filtros avanzados
- B√∫squeda en tiempo real
- Estados: active, maintenance, out_of_service, disposed
- Tipos: desktop, laptop, printer, server, router, switch, radio_communication, sim_chip, roaming, other

## üìä Estados de Equipos

### Colores Sem√°nticos
```css
--color-status-active: #22c55e;        /* Verde */
--color-status-maintenance: #f59e0b;   /* Amarillo */
--color-status-out-of-service: #ef4444; /* Rojo */
--color-status-disposed: #6b7280;      /* Gris */
```

### Estados Disponibles
- **active**: Equipo en uso normal
- **maintenance**: En mantenimiento
- **out_of_service**: Fuera de servicio
- **disposed**: Desechado

## üé® Paleta de Colores

### Colores Primarios
```css
--color-primary-500: #3b82f6;  /* Azul principal */
--color-primary-600: #2563eb;  /* Hover */
--color-primary-700: #1d4ed8;  /* Active */
```

### Colores Secundarios
```css
--color-secondary-500: #a855f7; /* P√∫rpura */
--color-secondary-600: #9333ea; /* Hover */
--color-secondary-700: #7c3aed; /* Active */
```

### Estados del Sistema
```css
--color-success-500: #22c55e;   /* √âxito */
--color-warning-500: #f59e0b;  /* Advertencia */
--color-error-500: #ef4444;     /* Error */
--color-info-500: #3b82f6;      /* Informaci√≥n */
```

## üñ•Ô∏è Desktop-First Responsive Design

### Breakpoints (NUEVO ENFOQUE)
```css
--breakpoint-desktop: 1024px;      /* Desktop (por defecto) */
--breakpoint-desktop-lg: 1440px;   /* Desktop grande */
--breakpoint-desktop-xl: 1920px;   /* Desktop extra grande */
--breakpoint-tablet: 1023px;       /* Tablet (max-width) */
--breakpoint-mobile: 767px;        /* Mobile (max-width) */
--breakpoint-mobile-sm: 480px;     /* Mobile peque√±o (max-width) */
```

### Desktop-First Methodology
- **Desktop**: Estilos por defecto (1024px+)
- **Large Desktop**: Optimizaciones adicionales (1440px+)
- **Extra Large Desktop**: Layouts expandidos (1920px+)
- **Tablet**: Adaptaciones para pantallas medianas (max-width: 1023px)
- **Mobile**: Optimizaciones t√°ctiles (max-width: 767px)
- **Small Mobile**: Elementos compactos (max-width: 480px)

### Media Queries Desktop-First
```css
/* Desktop por defecto (1024px+) */
.component { /* Estilos desktop */ }

/* Desktop grande (1440px+) */
@media (min-width: 1440px) {
  .component { /* Optimizaciones adicionales */ }
}

/* Desktop extra grande (1920px+) */
@media (min-width: 1920px) {
  .component { /* Layouts expandidos */ }
}

/* Tablet (max-width: 1023px) */
@media (max-width: 1023px) {
  .component { /* Adaptaciones tablet */ }
}

/* Mobile (max-width: 767px) */
@media (max-width: 767px) {
  .component { /* Optimizaciones m√≥vil */ }
}

/* Small Mobile (max-width: 480px) */
@media (max-width: 480px) {
  .component { /* Elementos compactos */ }
}
```

## ‚ôø Accesibilidad

### Requisitos
- WCAG 2.1 AA compliance
- Contraste m√≠nimo 4.5:1
- Focus visible en todos los elementos interactivos
- Screen reader support
- Keyboard navigation
- **Touch targets m√≠nimos de 44px** (especialmente en desktop)

### Clases de Accesibilidad
```css
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.focus-visible {
  outline: var(--focus-ring-width) var(--border-style-solid) var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}
```

## üîß API Integration

### Endpoints Principales
```javascript
// Autenticaci√≥n
POST /api/auth/login
POST /api/auth/logout

// Equipos
GET /api/equipment
POST /api/equipment
PUT /api/equipment/:id
DELETE /api/equipment/:id

// Reportes
GET /api/reports/inventory
GET /api/reports/equipment-by-state
```

### Manejo de Errores
- Mostrar mensajes de error amigables
- Retry autom√°tico para errores de red
- Timeout de 10 segundos
- Loading states durante requests

## üìù Convenciones de C√≥digo

### JavaScript
- **Variables**: camelCase
- **Constantes**: UPPER_SNAKE_CASE
- **Funciones**: camelCase
- **Clases**: PascalCase
- **Archivos**: kebab-case

### CSS
- **Clases**: kebab-case
- **Variables**: kebab-case con prefijo
- **BEM**: Para componentes complejos
- **Utilidades**: Prefijo con prop√≥sito
- **Desktop-first**: Estilos desktop por defecto, media queries para adaptaciones

### HTML
- **Atributos**: kebab-case
- **IDs**: camelCase
- **Data attributes**: data-* con kebab-case

## üéØ Funcionalidades Espec√≠ficas

### Dashboard
- Estad√≠sticas en tiempo real
- Gr√°ficos interactivos
- Quick actions
- Recent activity feed
- Alertas del sistema

### Gesti√≥n de Equipos
- Listado con paginaci√≥n
- Filtros avanzados
- B√∫squeda en tiempo real
- Creaci√≥n/edici√≥n modal
- Eliminaci√≥n con confirmaci√≥n

### Reportes
- Exportaci√≥n PDF/Excel
- Filtros por fecha
- Gr√°ficos estad√≠sticos
- Comparativas por estado

## üîí Seguridad

### Frontend
- Validaci√≥n de inputs
- Sanitizaci√≥n de datos
- XSS protection
- CSRF tokens
- Secure storage de tokens

### Autenticaci√≥n
- JWT tokens
- Refresh tokens
- Role-based access control
- Session management
- Auto-logout

## üìö Documentaci√≥n

### Archivos de Referencia
- `docs/design-system.md`: Sistema de dise√±o completo
- `docs/04-arquitectura-sistema.md`: Arquitectura del sistema
- `docs/05-especificaciones-tecnicas.md`: Especificaciones t√©cnicas
- `docs/README-Frontend-Completado.md`: Estado actual del frontend
- `MIGRATION-TRACKING.md`: Tracking de migraci√≥n desktop-first

### Mejores Pr√°cticas
- Documentar cambios importantes
- Mantener consistencia en el c√≥digo
- Seguir patrones establecidos
- Revisar accesibilidad regularmente
- Optimizar performance
- **Priorizar experiencia desktop** sin descuidar mobile

## üöÄ Performance

### Optimizaciones
- Lazy loading de componentes
- Debounce en b√∫squedas
- Caching de datos
- Minificaci√≥n de assets
- CDN para librer√≠as externas
- **Optimizaci√≥n para pantallas grandes**

### M√©tricas
- First Contentful Paint < 1.5s
- Largest Contentful Paint < 2.5s
- Cumulative Layout Shift < 0.1
- First Input Delay < 100ms

## üé® UI/UX Guidelines

### Principios
- **Claridad**: Interfaz limpia y f√°cil de entender
- **Consistencia**: Patrones uniformes
- **Eficiencia**: Flujos optimizados
- **Accesibilidad**: Cumplimiento WCAG 2.1 AA
- **Escalabilidad**: Sistema que crece
- **Desktop-First**: Experiencia optimizada para pantallas grandes

### Personalidad
- **Profesional**: Dise√±o corporativo serio
- **Confiable**: Colores y formas que transmiten seguridad
- **Moderno**: Tecnolog√≠a actual sin ser experimental
- **Funcional**: Prioridad a la usabilidad
- **Desktop-Optimized**: Aprovechamiento del espacio en pantalla

## üîÑ Workflow de Desarrollo

### Flujo de Trabajo
1. **Dise√±o**: Usar design tokens y componentes existentes
2. **Desarrollo**: Seguir patrones desktop-first establecidos
3. **Testing**: Verificar funcionalidad y accesibilidad en todos los breakpoints
4. **Documentaci√≥n**: Actualizar docs si es necesario
5. **Review**: Revisar consistencia con el sistema

### Herramientas Recomendadas
- **Chrome DevTools**: Para debugging
- **Lighthouse**: Para auditor√≠as
- **Color Contrast Analyzer**: Para accesibilidad
- **Figma**: Para dise√±o de componentes
- **Responsive Design Mode**: Para testing en diferentes tama√±os

## üñ•Ô∏è Desktop-First Best Practices

### Layout
- **Sidebar fijo** en desktop (1024px+)
- **Sidebar flotante** en mobile/tablet
- **Contenedores responsivos** con max-width
- **Grid systems** optimizados para desktop

### Typography
- **Jerarqu√≠a clara** para pantallas grandes
- **Tama√±os de fuente** optimizados para desktop
- **Line heights** apropiados para legibilidad
- **Spacing** generoso en desktop

### Components
- **Touch targets** m√≠nimos de 44px
- **Hover states** para desktop
- **Focus indicators** visibles
- **Loading states** informativos

### Forms
- **Layouts de dos columnas** en desktop
- **Validaci√≥n en tiempo real**
- **Error states** claros
- **Success feedback** inmediato

---

*Cursor Rules - Sistema de Gesti√≥n de Medios Inform√°ticos - Versi√≥n 2.0 (Desktop-First)* 
